name: webkitgtk
buildsystem: cmake-ninja
build-options:
  cflags: -DNDEBUG -g0
  cxxflags: -DNDEBUG -g0
  strip: true
config-opts:
  - -DCMAKE_BUILD_TYPE=None
  - -DPORT=GTK
  - -DUSE_GTK4=OFF
  - -DUSE_LIBBACKTRACE=OFF
  - -DUSE_LIBSECRET=OFF
  - -DUSE_SYSTEM_SYSPROF_CAPTURE=OFF
  - -DUSE_WOFF2=OFF
  - -DENABLE_BUBBLEWRAP_SANDBOX=OFF
  - -DENABLE_GAMEPAD=OFF
  - -DENABLE_INTROSPECTION=OFF
  - -DENABLE_SPEECH_SYNTHESIS=OFF
  - -DENABLE_SPELLCHECK=OFF
sources:
  - type: archive
    url: https://webkitgtk.org/releases/webkitgtk-2.48.3.tar.xz
    sha256: d4dc5970f0fc6a529ff7fd67bcbfab2bbb5e91be789b2e9279640b3217a782c3
    
modules:

  - name: unifdef 
    no-autogen: true
    make-install-args:
      - prefix=${FLATPAK_DEST}
    cleanup:
      - '*'
    sources:
      - type: archive
        url: https://dotat.at/prog/unifdef/unifdef-2.12.tar.xz
        sha256: 43ce0f02ecdcdc723b2475575563ddb192e988c886d368260bc0a63aee3ac400
 
